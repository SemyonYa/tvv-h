<div *ngIf="project$ |async as project; else inProgress" class="wrap col" @titleAnimation>
    <div class="top row">
        <div class="left">
            <div class="nav-name row">
                <img *ngIf="!project.prevId" src="/assets/icons/prev.svg" class="inactive" alt="PREV">
                <img *ngIf="project.prevId" [routerLink]="['/project', project.prevId]" src="/assets/icons/prev.svg"
                    alt="PREV">
                <div class="name center"> {{project.name}} </div>
                <img *ngIf="!project.nextId" src="/assets/icons/next.svg" class="inactive" alt="NEXT">
                <img *ngIf="project.nextId" [routerLink]="['/project', project.nextId]" src="/assets/icons/next.svg"
                    alt="NEXT">
            </div>
        </div>
        <div class="right">
            <div class="title col">
                <h2> КАРТА БЛАГОТВОРИТЕЛЬНОСТИ </h2>
                <h1> {{project.placeName}} </h1>
            </div>
        </div>
    </div>

    <div class="toggle row">
        <span [ngClass]="{'active': !isAfter}" (click)="toggleIsAfter(false)"> До </span>
        <span [ngClass]="{'active': isAfter}" (click)="toggleIsAfter(true)"> После </span>
    </div>

    <div class="bottom row">
        <div class="left col">
            <div *ngIf="!isAfter" class="swiper-wrap" @titleAnimation>
                <swiper #swiperRef [config]="config">
                    <!-- <ng-template *ngIf="!product.images?.length" swiperSlide>
                      <img src="/assets/images/north.jpg" alt="">
                    </ng-template> -->
                    <ng-template *ngFor="let image of project.images?.before" swiperSlide>
                        <img class="swiper-image" [src]="image.large" alt="">
                    </ng-template>
                </swiper>
                <img src="/assets/icons/qwe.svg" alt="FULL_SCREEN" class="expand"
                    (click)="goToFullScreen(project.images?.before)">
            </div>
            <div *ngIf="isAfter" class="swiper-wrap" @titleAnimation>
                <swiper #swiperRef [config]="config">
                    <!-- <ng-template *ngIf="!product.images?.length" swiperSlide>
                      <img src="/assets/images/north.jpg" alt="">
                    </ng-template> -->
                    <ng-template *ngFor="let image of project.images?.after" swiperSlide>
                        <img class="swiper-image" [src]="image.large" alt="">
                    </ng-template>
                </swiper>
                <img src="/assets/icons/qwe.svg" alt="FULL_SCREEN" class="expand"
                    (click)="goToFullScreen(project.images?.after)">
            </div>
        </div>
        <div class="right col">
            <div class="text col">
                <h6> {{project.name}} </h6>

                <div class="list col">
                    <div class="item row">
                        <img src="/assets/icons/calendar.svg" alt="CALENDAR">

                        <div class="values col">
                            <p class="name"> Период работ </p>
                            <p class="value"> {{project.calendar}} </p>
                        </div>
                    </div>
                    <div class="item row">
                        <img src="/assets/icons/costs.svg" alt="COSTS">

                        <div class="values col">
                            <p class="name"> Финансирование </p>
                            <p class="value"> {{project.costs}} млн рублей </p>
                        </div>
                    </div>
                    <div class="item row">
                        <img src="/assets/icons/people.svg" alt="PEOPLE">

                        <div class="values col">
                            <p class="name"> Востребованность </p>
                            <p class="value"> {{project.people}} </p>
                        </div>
                    </div>
                </div>

                <div class="ps col">
                    <p *ngFor="let p of project.description.split('\n')" class="indented"> {{p}} </p>
                </div>

                <!-- <p class="indented">
                    Earum eaque rerum atque amet ipsa provident tenetur molestiae laborum exercitationem reiciendis
                    mollitia rem!
                </p>

                <p class="indented">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus voluptas illo totam dolores explicabo
                    asperiores.
                </p>
                <p class="indented">
                    Earum eaque rerum atque amet ipsa provident tenetur molestiae laborum exercitationem reiciendis
                    mollitia rem!
                </p> -->
            </div>
        </div>
    </div>
</div>

<ng-template #inProgress>
    <div class="center">
        <in-progress></in-progress>
    </div>
</ng-template>